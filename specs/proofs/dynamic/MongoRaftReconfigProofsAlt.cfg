\* INIT Init
\* NEXT NextVerbose
INIT IInitAlt
NEXT INextAlt
CONSTANTS 
Nil = Nil
Server = {n1, n2, n3}
Secondary = Secondary
Primary = Primary
MaxLogLen = 3
MaxTerm = 3
MaxConfigVersion = 3
Nat <- NatFinite
Seq <- BoundedSeqFin
n1 = n1
n2 = n2
n3 = n3
NumRandSubsets = 8
CONSTRAINT StateConstraint
\* INVARIANT Ind
SYMMETRY Symmetry

\* Must check that the initial states satisfy the inductive invariant.
INVARIANT Initiation

\*
\* Establishing election safety under reconfiguration.
\*
INVARIANT OnePrimaryPerTerm
INVARIANT PrimaryConfigTermEqualToCurrentTerm
INVARIANT ConfigVersionAndTermUnique
INVARIANT PrimaryInTermContainsNewestConfigOfTerm
\* alternate.
INVARIANT ActiveConfigsOverlap
INVARIANT ActiveConfigsSafeAtTerms

\* Helper log invariant 1.
INVARIANT LogEntryInTermImpliesConfigInTerm
\* Helper log invariant 2.
INVARIANT PrimaryHasEntriesItCreated
\* Establish log matching, which relies on helper log invariants above.
INVARIANT LogMatching

\*
\* Additional local log invariants.
\*
INVARIANT PrimaryTermAtLeastAsLargeAsLogTerms
INVARIANT TermsOfEntriesGrowMonotonically

\*
\* Additional global log invariant.
\*
INVARIANT UniformLogEntriesInTerm

\*
\* Basic type requirements of 'committed' variable.
\*
INVARIANT CommittedEntryIndexesAreNonZero
INVARIANT CommittedTermMatchesEntry

\* alternate
INVARIANT LeaderCompletenessGeneralized
INVARIANT LogsLaterThanCommittedMustHaveCommitted
INVARIANT ActiveConfigsOverlapWithCommittedEntry
INVARIANT NewerConfigsDisablePrimaryCommitsInOlderTerms

ALIAS Alias