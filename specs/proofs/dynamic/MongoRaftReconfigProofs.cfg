\* INIT Ind
INIT IInit
NEXT Next
CONSTANTS 
Nil = Nil
Server = {n1, n2}
Secondary = Secondary
Primary = Primary
MaxLogLen = 2
MaxTerm = 2
MaxConfigVersion = 2
Nat <- NatFinite
Seq <- BoundedSeqFin
n1 = n1
n2 = n2
n3 = n3
NumRandSubsets = 10
CONSTRAINT StateConstraint
\* INVARIANT Ind
VIEW ViewNoElections
SYMMETRY Symmetry




\*
\* Establishing config safety.
\*
INVARIANT OnePrimaryPerTerm
INVARIANT PrimaryConfigTermEqualToCurrentTerm
INVARIANT ConfigsNonEmpty

\* Establish basic, intra-term config safety.
INVARIANT ConfigVersionAndTermUnique
INVARIANT PrimaryInTermContainsNewestConfigOfTerm

\* Establish inter-term config safety.
INVARIANT I1
INVARIANT I2
INVARIANT PrimaryMustBeInOwnConfig


\* 
\* Static safety invariants.
\*

INVARIANT CommittedEntryIndexesAreNonZero
INVARIANT  CurrentTermAtLeastAsLargeAsLogTermsForPrimary
INVARIANT  TermsOfEntriesGrowMonotonically
\* INVARIANT  ExistsQuorumInLargestTerm
INVARIANT  LogsMustBeSmallerThanOrEqualToLargestTerm
\* INVARIANT AllConfigsAreServer
INVARIANT  SecondariesMustFollowPrimariesWhenLogTermMatchesCurrentTerm
INVARIANT  SecondariesMustFollowPrimariesWhenLogTermExceedsCurrentTerm
INVARIANT  CommittedTermMatchesEntry
INVARIANT  LogsLaterThanCommittedMustHaveCommitted
INVARIANT  LogsEqualToCommittedMustHaveCommittedIfItFits
INVARIANT  CommittedEntryIndMustBeSmallerThanOrEqualtoAllLogLens
INVARIANT  CommittedEntryTermMustBeSmallerThanOrEqualtoAllTerms
INVARIANT  LeaderCompletenessGeneralized
\*INVARIANT CommittedEntriesMustHaveQuorums

INVARIANT LogEntryInTermImpliesConfigInTerm
INVARIANT I3
INVARIANT CommittedEntryIntersectsAnyQuorumOfNewestConfig


ALIAS Alias